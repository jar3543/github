<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>megabox</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/main.css">
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      $(function(){

        //슬라이드 페이드
        //슬라이드 이미지의 수
        var imgLength=$('.slide-image li').length;
        console.log('슬라이드 이미지 수',imgLength);
        //현재 이미지의 인덱스
        var i=$('.slide-image li.on').index();
        console.log('현재 이미지 인덱스',i);

        //페이지네이션 생성
        for(var j=0; j<imgLength; j++){
          $('.pagination').append('<li><a href="#"><span class="skip">'+(j+1)+'</span></a></li>');
        }
        $('.pagination li:nth-child(1) a').addClass('on');

        //이전버튼을 클릭했을 때
        $('.prev').click(function(){
          if(i==0){
            i=imgLength-1;//최대 인덱스 값으로 변경
          }else{
            i--;//1씩 감소
          }
          console.log('이전버튼',i);

          //함수호출
          showSlide();
        })

        //다음버튼을 클릭했을 때
        $('.next').click(function(){
          if(i==imgLength-1){
            i=0;//최소 인덱스 값으로 변경
          }else{
            i++;//1씩 증가
          }
          console.log('다음버튼',i);

          //함수호출
          showSlide();
        })

        //페이지네이션 클릭했을 때
        $('.pagination a').click(function(e){
          e.preventDefault();//스크롤 위로 가는거 방지
          var index=$(this).parent().index();//a의 상위부모인 li의 위치값
          console.log('페이지네이션',index);
          i=index;//새로구한 인덱스값을 i의 값에 저장
          //함수호출
          showSlide();
        })

        //중복되는 코드 함수처리
        function showSlide(){
          //페이지네이션 변경
          $('.pagination a').removeClass('on');
          $('.pagination li').eq(i).find('a').addClass('on');
          //이미지 변경
          $('.slide-image li').removeClass('on').fadeOut();
          $('.slide-image li').eq(i).addClass('on').fadeIn();
        }
      })
    </script>
  </head>
  <body>
    <div id="header">
      <div class="center">
        <div class="sub-nav">
          <a href="#">로그인</a>
          <a href="#">회원가입</a>
        </div>
        <div class="gnb-nav">
          <h1><img src="images/logo_slogan.png" alt="로고"></h1>
          <!-- <h2><img src="images/cultureplex.png" alt="cultureplex"></h2> -->
          <nav>
            <!-- ul>li*4>a[href=#] -->
            <ul>
              <li><a href="#">영화</a></li>
              <li><a href="#">큐레이션</a></li>
              <li><a href="#">영화관</a></li>
              <li><a href="#">특별관&amp;스토어</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
    <!-- header end -->

    <div id="container">
      <section class="ad">
        <div class="center">
          <h2 class="skip">메인광고</h2>
          <article class="search">
            <label for="search" class="skip">영화검색</label>
            <input type="text" placeholder="영화제목을 입력하세요." id="search">
            <button>검색</button>
          </article>
          <article class="slide">
            <!-- ul>li*3>img -->
            <ul class="slide-image">
              <li class="on" style="display:block;">
                <a href="#">
                  <img src="images/slide1.jpg" alt="캡틴마블">
                  <span>캡틴마블
                    <strong>
                      <em>Captin Marvel</em>
                    </strong>
                    <strong>새로운 히어로, 어벤져스의 희망</strong>
                  </span>
                </a>
              </li>
              <li class="on" style="display:block;">
                <a href="#">
                  <img src="images/slide1.jpg" alt="캡틴마블">
                  <span>캡틴마블
                    <strong>
                      <em>Captin Marvel</em>
                    </strong>
                    <strong>새로운 히어로, 어벤져스의 희망</strong>
                  </span>
                </a>
              </li>
              <li class="on" style="display:block;">
                <a href="#">
                  <img src="images/slide1.jpg" alt="캡틴마블">
                  <span>캡틴마블
                    <strong>
                      <em>Captin Marvel</em>
                    </strong>
                    <strong>새로운 히어로, 어벤져스의 희망</strong>
                  </span>
                </a>
              </li>
            </ul>
            <ul class="pagination">
            </ul>
            <button class="prev">
              <i class="fa fa-chevron-left" aria-hidden="true"></i>
              <span class="skip">이전</span>
            </button>
            <button class="next">
              <i class="fa fa-chevron-right" aria-hidden="true"></i>
              <span class="skip">다음</span>
            </button>
          </article>
        </div>
      </section>

      <article class="movie-selection center">
        <h2>movie selection</h2>
        <ul>
          <li>
            <iframe width="980" height="392" src="https://www.youtube.com/embed/4nj-f0wSqaI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></li>
        </ul>
      </article>
      <article class="event center">
        <h2>event</h2>
        <ul>
          <li><a href="#"><img src="images/banner1.jpg" alt="메가박스가 드리는 서프라이즈 쿠폰. mx용"></a></li>
          <li><a href="#"><img src="images/banner2.jpg" alt="메가박스가 드리는 서프라이즈 쿠폰. 일반,컴포트용"></a></li>
          <li><a href="#"><img src="images/banner3.jpg" alt="러브라이브.6주차 특전. 선착순 증정"></a></li>
          <li><a href="#"><img src="images/banner4.jpg" alt="벚꽃톤업 콤보"></a></li>
        </ul>

      </article>
    </div>
    <!-- container end -->

    <div id="footer">
      <div class="center">
        <ul>
          <li><a href="#">회사소개</a></li>
          <li><a href="#">IR</a></li>
          <li><a href="#">채용정보</a></li>
          <li><a href="#">광고문의</a></li>
          <li><a href="#">이용약관</a></li>
        </ul>
        <div class="box">
          <h1><span class="skip">megabox로고</span></h1>
          <p class="info">
            서울특별시 강남구 도산대로 156, 2층 메가박스중앙(주) (논현동, 중앙엠앤비사옥)<br>
            대표자명 김진선 | 사업자등록번호 211-86-59478 | 통신판매업신고번호 제 833호<br>
            개인정보보호 책임자 경영지원실 실장 박영진 | 고객센터 : 1544-1070
          </p>
          <small>copyright &copy; 2016 CJ megabox. All Rights Reserved</small>
        </div>
      </div>
    </div>
    <!-- footer end -->
  </body>
</html>
